"use strict";function ownKeys(t,e){var o,i=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,o)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(o,!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var my_theme_cookie=getCookie("ThemeName");console.log(my_theme_cookie),"dark_theme"===my_theme_cookie&&(document.body.classList.add("dark_theme"),document.getElementById("check_theme").setAttribute("checked","checked"));var movieItem={props:["movie"],methods:{getMovieInfo:function(e){this.$emit("getMovie",e)},setFavorites:function(e){this.$emit("setFavorit",e)}},template:"#movieItem"},App={data:function(){return{API_KEY:"d7be29bf",search:"Batman",selectedType:"",year:"",movieList:[],movieInfo:{},showModal:!1,myFavorite:[],showFavoritesModal:!1,showAboutAddedModal:!1,showAboutDeletedModal:!1,totalPages:0,page:1,perPage:10,ifDisabledPrevButton:!1,ifDisabledNextButton:!1,isActiveTheme:!1,showPagination:!1}},components:{movieItem:movieItem},methods:{searchMovies:function(){var t=this;""!==this.search&&("all"===this.selectedType&&(this.selectedType=""),console.log(this.selectedType),axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&s=").concat(this.search,"&type=").concat(this.selectedType,"&page=").concat(this.page,"&y=").concat(this.year)).then(function(e){t.movieList=e.data.Search,t.totalPages=Math.ceil(e.data.totalResults/10),console.log("this.totalPages: ".concat(t.totalPages)),t.page===t.totalPages&&(t.ifDisabledNextButton=!0),1===t.page&&(t.ifDisabledPrevButton=!0),console.log(e)}).catch(function(e){console.log(e)}).then(function(){}),console.log("this.page: ".concat(this.page)),console.log("this.totalPages: ".concat(this.totalPages)),this.showPagination=!0)},showMovieInfo:function(){this.showModal=!0},getMovieInfo:function(e){var t=this;axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&i=").concat(e)).then(function(e){t.movieInfo=e.data,t.showMovieInfo(),console.log(e),console.log(t.movieInfo)}).catch(function(e){console.log(e)}).then(function(){})},setFavorites:function(t){console.log(t);var e=this.movieList.find(function(e){return e.imdbID===t}),o=this.myFavorite.findIndex(function(e){return e.imdbID===t});-1===o?(this.myFavorite.push(e),this.showAboutAdded()):(console.log("delFavoriteIndex= ".concat(o)),this.myFavorite.splice(o,1),this.showAboutDeleted()),localStorage.setItem("myFavorite",JSON.stringify(this.myFavorite)),console.log(this.myFavorite)},showFavorites:function(){this.showFavoritesModal=!0,console.log("Check: ".concat(this.myFavorite))},showAboutAdded:function(){this.showAboutAddedModal=!0},showAboutDeleted:function(){this.showAboutDeletedModal=!0},goToPage:function(e){this.page=e,console.log("pageNum: ".concat(e)),1!==e&&(this.ifDisabledPrevButton=!1),e!==this.totalPages&&(this.ifDisabledNextButton=!1),this.searchMovies()}},computed:{movieListWithFavorite:function(){var o=this,i=[];return this.movieList.forEach(function(t){var e=o.myFavorite.find(function(e){return t.imdbID===e.imdbID});t.inFav=void 0!==e,i.push(t)}),console.log(i),i}},created:function(){this.myFavorite=JSON.parse(localStorage.getItem("myFavorite"))||[]}};Vue.createApp(App).mount("#app");var checkbox=document.getElementById("check_theme");function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function setCookie(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(o=_objectSpread({path:"/"},o)).expires instanceof Date&&(o.expires=o.expires.toUTCString());var i=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var n in o){i+="; "+n;var s=o[n];!0!==s&&(i+="="+s)}document.cookie=i}function deleteCookie(e){setCookie(e,"",{"max-age":-1})}checkbox.addEventListener("change",function(){this.checked?(console.log("Checkbox is checked.."),document.body.classList.toggle("dark_theme"),setCookie("ThemeName","dark_theme")):(console.log("Checkbox is not checked.."),document.body.classList.toggle("dark_theme"),deleteCookie("ThemeName"))});