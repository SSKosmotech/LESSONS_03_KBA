"use strict";var movieItem={props:["movie"],methods:{getMovieInfo:function(t){this.$emit("getMovie",t)},setFavorites:function(t){this.$emit("setFavorit",t)}},template:"#movieItem"},App={data:function(){return{API_KEY:"d7be29bf",search:"Batman",selectedType:"",year:"",movieList:[],movieInfo:{},showModal:!1,myFavorite:[],showFavoritesModal:!1,totalPages:0,page:1,perPage:10,ifDisabledPrevButton:!1,ifDisabledNextButton:!1}},components:{movieItem:movieItem},methods:{searchMovies:function(){var e=this;""!==this.search&&("all"===this.selectedType&&(this.selectedType=""),console.log(this.selectedType),axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&s=").concat(this.search,"&type=").concat(this.selectedType,"&page=").concat(this.page,"&y=").concat(this.year)).then(function(t){e.movieList=t.data.Search,console.log(t),e.totalPages=Math.ceil(t.data.totalResults/10)}).catch(function(t){console.log(t)}).then(function(){})),console.log("this.page: ".concat(this.page)),console.log("this.totalPages: ".concat(this.totalPages)),1==this.page&&(this.ifDisabledPrevButton=!0),this.page===this.totalPages&&(this.ifDisabledNextButton=!0)},showMovieInfo:function(){this.showModal=!0},getMovieInfo:function(t){var e=this;axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&i=").concat(t)).then(function(t){e.movieInfo=t.data,e.showMovieInfo(),console.log(t)}).catch(function(t){console.log(t)}).then(function(){})},setFavorites:function(e){console.log(e);var t=this.movieList.find(function(t){return t.imdbID===e}),o=this.myFavorite.findIndex(function(t){return t.imdbID===e});-1===o?this.myFavorite.push(t):(console.log("delFavoriteIndex= ".concat(o)),this.myFavorite.splice(o,1)),localStorage.setItem("myFavorite",JSON.stringify(this.myFavorite)),console.log(this.myFavorite)},showFavorites:function(){this.showFavoritesModal=!0,console.log("Check: ".concat(this.myFavorite))},goToPage:function(t){this.page=t,console.log("pageNum: ".concat(t)),1!==t&&(this.ifDisabledPrevButton=!1),t!==this.totalPages&&(this.ifDisabledNextButton=!1),this.searchMovies()}},computed:{movieListWithFavorite:function(){var o=this,i=[];return this.movieList.forEach(function(e){var t=o.myFavorite.find(function(t){return e.imdbID===t.imdbID});e.inFav=void 0!==t,i.push(e)}),console.log(i),i}},created:function(){this.myFavorite=JSON.parse(localStorage.getItem("myFavorite"))||[]}};Vue.createApp(App).mount("#app");