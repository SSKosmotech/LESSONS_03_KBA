"use strict";var movieItem={props:["movie"],methods:{getMovieInfo:function(t){this.$emit("getMovie",t)},setFavorites:function(t,o){this.$emit("setFavorit",t,o)}},template:"#movieItem"},App={data:function(){return{API_KEY:"d7be29bf",search:"Batman",selectedType:"all",movieList:[],movieInfo:{},showModal:!1,myFavorite:[],showFavoritesModal:!1}},components:{movieItem:movieItem},methods:{searchMovies:function(){var o=this;""!==this.search&&("all"===this.selectedType&&(this.selectedType=""),console.log(this.selectedType),axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&s=").concat(this.search,"&type=").concat(this.selectedType)).then(function(t){o.movieList=t.data.Search,console.log(t)}).catch(function(t){console.log(t)}).then(function(){}),this.myFavorite=JSON.parse(localStorage.getItem("myFavorite")))},showMovieInfo:function(){this.showModal=!0},getMovieInfo:function(t){var o=this;axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&i=").concat(t)).then(function(t){o.movieInfo=t.data,o.showMovieInfo(),console.log(t)}).catch(function(t){console.log(t)}).then(function(){})},setFavorites:function(o,t){var e;this.myFavorite=JSON.parse(localStorage.getItem("myFavorite"))||[],console.log(o,t),void 0===this.myFavorite.find(function(t){return t.id===o})?this.myFavorite.push({id:o,title:t}):(e=this.myFavorite.findIndex(function(t){return t.id===o}),console.log("delFavoriteIndex= ".concat(e)),this.myFavorite.splice(e,1)),localStorage.setItem("myFavorite",JSON.stringify(this.myFavorite)),console.log(this.myFavorite)},created:function(){this.myFavorite=JSON.parse(localStorage.getItem("myFavorite"))},showFavorites:function(){this.showFavoritesModal=!0,this.myFavorite=JSON.parse(localStorage.getItem("myFavorite")),console.log("Check: ".concat(this.myFavorite))},movieListWithFavorite:function(){var e=this,i=[];return this.movieList.forEach(function(o){var t=e.myFavorite.find(function(t){return o.imdbID===t.id});o.inFav=void 0!==t,i.push(o)}),console.log(i),i}}};Vue.createApp(App).mount("#app");